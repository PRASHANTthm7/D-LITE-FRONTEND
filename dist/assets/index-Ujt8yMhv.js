import{r as e,a as t,R as s,L as r,u as o,B as a,b as n,c as i,N as l}from"./react-vendors-aqD4jjz2.js";import{a as d,c}from"./ui-B5hUH1ea.js";import{l as h}from"./socket-DNoO1m3r.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var m={exports:{}},u={},x=e,g=Symbol.for("react.element"),p=Symbol.for("react.fragment"),f=Object.prototype.hasOwnProperty,v=x.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,b={key:!0,ref:!0,__self:!0,__source:!0};function y(e,t,s){var r,o={},a=null,n=null;for(r in void 0!==s&&(a=""+s),void 0!==t.key&&(a=""+t.key),void 0!==t.ref&&(n=t.ref),t)f.call(t,r)&&!b.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:g,type:e,key:a,ref:n,props:o,_owner:v.current}}u.Fragment=p,u.jsx=y,u.jsxs=y,m.exports=u;var j=m.exports,w={},N=t;w.createRoot=N.createRoot,w.hydrateRoot=N.hydrateRoot;const k=new class{constructor(e="D-Lite"){this.prefix=e}getTimestamp(){return(new Date).toISOString()}formatLog(e,t,s={}){return{timestamp:this.getTimestamp(),level:e,message:t,...s}}error(e,t={}){this.formatLog("ERROR",e,t)}warn(e,t={}){this.formatLog("WARN",e,t)}info(e,t={}){this.formatLog("INFO",e,t)}debug(e,t={}){}}("D-Lite"),S=(e,t="API Call")=>{var s,r;if(e.response){const r=e.response.status,o=(null==(s=e.response.data)?void 0:s.message)||"An error occurred";return k.error(`${t}: Server Error ${r}`,{status:r,message:o,data:e.response.data}),{status:r,message:o,isClientError:r>=400&&r<500,isServerError:r>=500}}return e.request?(k.error(`${t}: No Response`,{message:"Server did not respond",URL:e.request.URL||(null==(r=e.config)?void 0:r.url)}),{status:null,message:"Server did not respond. Check your connection.",isClientError:!1,isServerError:!0}):(k.error(`${t}: Client Error`,{message:e.message}),{status:null,message:e.message||"An unexpected error occurred",isClientError:!0,isServerError:!1})},C=parseInt("30000"),_=d.create({baseURL:"http://localhost:3001",timeout:C,headers:{"Content-Type":"application/json"}});_.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e}),_.interceptors.response.use(e=>e,e=>{const t=S(e,"Auth Service");return Promise.reject(t)});const L=async(e,t,s)=>{var r,o;try{k.info("Attempting user registration",{username:e,email:t});const a=await _.post("/api/auth/register",{username:e,email:t,password:s});return k.info("Registration successful",{userId:null==(o=null==(r=a.data)?void 0:r.user)?void 0:o.id}),a.data}catch(a){throw k.error("Registration failed",{error:a.message}),a}},E=async(e,t)=>{var s,r;try{k.info("Attempting login",{email:e});const o=await _.post("/api/auth/login",{email:e,password:t});return k.info("Login successful",{userId:null==(r=null==(s=o.data)?void 0:s.user)?void 0:r.id}),o.data}catch(o){throw k.error("Login failed",{error:o.message}),o}},M=async()=>{try{k.debug("Verifying token");return(await _.get("/api/auth/verify")).data}catch(e){throw k.warn("Token verification failed",{error:e.message}),e}},U=async e=>{try{k.debug("Fetching user",{userId:e});return(await _.get(`/api/users/${e}`)).data}catch(t){throw k.error("Failed to fetch user",{userId:e,error:t.message}),t}},A=async e=>{try{k.debug("Searching users",{query:e});return(await _.get("/api/users/search",{params:{q:e}})).data}catch(t){throw k.error("Failed to search users",{query:e,error:t.message}),t}};const R=new class{constructor(){this.socket=null,this.isConnected=!1,this.listeners=new Map,this.reconnectAttempts=0,this.maxReconnectAttempts=5}connect(e){var t;if(null==(t=this.socket)?void 0:t.connected)return k.debug("Socket already connected"),Promise.resolve();const s="http://localhost:3002";return new Promise((t,r)=>{try{k.info("Connecting to Socket Gateway",{url:s}),this.socket=h(s,{auth:{token:e},transports:["websocket","polling"],reconnection:!0,reconnectionDelay:1e3,reconnectionDelayMax:5e3,reconnectionAttempts:this.maxReconnectAttempts,timeout:2e4}),this.socket.on("connect",()=>{k.info("Socket connected successfully"),this.isConnected=!0,this.reconnectAttempts=0,t()}),this.socket.on("disconnect",e=>{k.warn("Socket disconnected",{reason:e}),this.isConnected=!1,this.cleanupListeners()}),this.socket.on("connect_error",e=>{k.warn("Socket connection error",{error:e.message}),this.reconnectAttempts++,this.reconnectAttempts>=this.maxReconnectAttempts&&(k.error("Max reconnection attempts reached"),r(e))}),this.socket.on("error",e=>{k.error("Socket error",{error:(null==e?void 0:e.message)||String(e)})})}catch(o){k.error("Failed to initialize socket connection",{error:o.message}),r(o)}})}disconnect(){try{this.socket&&(k.info("Disconnecting socket"),this.cleanupListeners(),this.socket.disconnect(),this.socket=null,this.isConnected=!1)}catch(e){k.error("Error during socket disconnect",{error:e.message})}}isSocketConnected(){var e;return(null==(e=this.socket)?void 0:e.connected)||!1}setupPresenceTracking(e){if(!this.socket)return null;const{onOnlineUsersUpdate:t,onUserConnected:s,onUserDisconnected:r,onUserTyping:o,onUserStoppedTyping:a}=e||{};return t&&this.socket.on("online_users",e=>{t(e)}),s&&this.socket.on("user_connected",e=>{s(e.userId||e)}),r&&this.socket.on("user_disconnected",e=>{r(e.userId||e)}),o&&this.socket.on("user_typing",e=>{o(e.userId||e)}),a&&this.socket.on("user_stopped_typing",e=>{a(e.userId||e)}),()=>{this.socket&&(this.socket.off("online_users"),this.socket.off("user_connected"),this.socket.off("user_disconnected"),this.socket.off("user_typing"),this.socket.off("user_stopped_typing"))}}onMessage(e){this.socket&&(this.socket.on("receive_message",e),this.listeners.set("receive_message",e))}offMessage(e){if(this.socket){if(e)this.socket.off("receive_message",e);else{const e=this.listeners.get("receive_message");e?this.socket.off("receive_message",e):this.socket.off("receive_message")}this.listeners.delete("receive_message")}}sendMessage(e){if(!this.socket||!this.isConnected)throw new Error("Socket not connected");this.socket.emit("send_message",e)}joinGroup(e){this.socket&&this.isConnected&&this.socket.emit("join_group",{group_id:e})}leaveGroup(e){this.socket&&this.isConnected&&this.socket.emit("leave_group",{group_id:e})}sendTyping(e,t=null){if(!this.socket||!this.isConnected)return;const s=t?{group_id:t}:{receiver_id:e};this.socket.emit("typing",s)}sendStopTyping(e,t=null){if(!this.socket||!this.isConnected)return;const s=t?{group_id:t}:{receiver_id:e};this.socket.emit("stop_typing",s)}cleanupListeners(){this.socket&&(this.listeners.forEach((e,t)=>{this.socket.off(t,e)}),this.listeners.clear())}getSocket(){return this.socket}},I=c((e,t)=>({user:null,token:localStorage.getItem("token")||null,isAuthenticated:!!localStorage.getItem("token"),loading:!1,error:null,login:async(t,s)=>{var r,o;e({loading:!0,error:null});try{const r=await E(t,s);localStorage.setItem("token",r.token);try{await R.connect(r.token)}catch(a){}return e({user:r.user,token:r.token,isAuthenticated:!0,loading:!1,error:null}),r}catch(n){throw e({loading:!1,error:(null==(o=null==(r=n.response)?void 0:r.data)?void 0:o.message)||"Login failed"}),n}},register:async(t,s,r)=>{var o,a;e({loading:!0,error:null});try{const o=await L(t,s,r);localStorage.setItem("token",o.token);try{await R.connect(o.token)}catch(n){}return e({user:o.user,token:o.token,isAuthenticated:!0,loading:!1,error:null}),o}catch(i){throw e({loading:!1,error:(null==(a=null==(o=i.response)?void 0:o.data)?void 0:a.message)||"Registration failed"}),i}},logout:()=>{R.disconnect(),localStorage.removeItem("token"),e({user:null,token:null,isAuthenticated:!1,error:null})},clearError:()=>e({error:null}),initAuth:async()=>{const t=localStorage.getItem("token");if(t)try{const r=await M();e({user:r.user,token:t,isAuthenticated:!0});try{await R.connect(t)}catch(s){}}catch(s){localStorage.removeItem("token"),e({user:null,token:null,isAuthenticated:!1})}}}));class T extends s.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){k.error("React Error Boundary caught error",{error:e.toString(),componentStack:t.componentStack})}render(){return this.state.hasError?j.jsx("div",{className:"flex items-center justify-center min-h-screen bg-red-50",children:j.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md",children:[j.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Something went wrong"}),j.jsx("p",{className:"text-gray-600 mb-4",children:"An unexpected error occurred. Please refresh the page or try again."}),!1,j.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-red-600 text-white py-2 rounded hover:bg-red-700",children:"Refresh Page"})]})}):this.props.children}}const D={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},z=["VITE_AUTH_SERVICE_URL","VITE_CHAT_SERVICE_URL","VITE_SOCKET_GATEWAY_URL"],P=()=>{const{isAuthenticated:t}=I(),[s,o]=e.useState({x:0,y:0}),[a,n]=e.useState(!1),[i,l]=e.useState(!1),[d,c]=e.useState("");e.useEffect(()=>{const e=e=>{o({x:e.clientX/window.innerWidth*100,y:e.clientY/window.innerHeight*100})},t=()=>{n(window.scrollY>20)};return window.addEventListener("mousemove",e),window.addEventListener("scroll",t),()=>{window.removeEventListener("mousemove",e),window.removeEventListener("scroll",t)}},[]);return j.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-purple-50 via-pink-50 to-rose-50 relative overflow-hidden",children:[j.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[j.jsx("div",{className:"absolute -top-40 -right-40 w-96 h-96 bg-purple-200 rounded-full mix-blend-multiply filter blur-3xl opacity-40 animate-blob",style:{transform:`translate(${.02*s.x}px, ${.02*s.y}px)`}}),j.jsx("div",{className:"absolute -bottom-40 -left-40 w-96 h-96 bg-pink-200 rounded-full mix-blend-multiply filter blur-3xl opacity-40 animate-blob animation-delay-2000",style:{transform:`translate(${.02*-s.x}px, ${.02*-s.y}px)`}}),j.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-indigo-200 rounded-full mix-blend-multiply filter blur-3xl opacity-40 animate-blob animation-delay-4000",style:{transform:`translate(${.01*s.x}px, ${.01*s.y}px)`}})]}),j.jsxs("nav",{className:"fixed top-0 left-0 right-0 z-50 px-6 py-4 transition-all duration-300 "+(a?"bg-white/80 backdrop-blur-lg shadow-md":"bg-transparent"),children:[j.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[j.jsxs(r,{to:"/",className:"flex items-center gap-2 group",children:[j.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-500 rounded-lg flex items-center justify-center text-white font-bold text-xl shadow-lg group-hover:scale-110 transition-transform duration-300",children:"D"}),j.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-gray-800 to-gray-600 bg-clip-text text-transparent",children:"D-Lite"})]}),j.jsxs("div",{className:"hidden md:flex items-center gap-8",children:[j.jsx("a",{href:"#features",className:"text-gray-700 hover:text-indigo-600 font-medium transition-colors cursor-pointer",onClick:e=>{var t;e.preventDefault(),null==(t=document.querySelector("#features"))||t.scrollIntoView({behavior:"smooth"})},children:"Features"}),j.jsx("a",{href:"#showcase",className:"text-gray-700 hover:text-indigo-600 font-medium transition-colors cursor-pointer",onClick:e=>{var t;e.preventDefault(),null==(t=document.querySelector("#showcase"))||t.scrollIntoView({behavior:"smooth"})},children:"Showcase"}),j.jsx("a",{href:"#footer",className:"text-gray-700 hover:text-indigo-600 font-medium transition-colors cursor-pointer",onClick:e=>{var t;e.preventDefault(),null==(t=document.querySelector("#footer"))||t.scrollIntoView({behavior:"smooth"})},children:"About"})]}),j.jsx("div",{className:"hidden md:flex items-center gap-4",children:t?j.jsx(r,{to:"/dashboard",className:"px-6 py-2.5 bg-gradient-to-r from-indigo-500 to-purple-500 text-white rounded-lg font-medium hover:from-indigo-600 hover:to-purple-600 transition-all duration-300 shadow-md hover:shadow-lg hover:scale-105",children:"Dashboard"}):j.jsxs(j.Fragment,{children:[j.jsx(r,{to:"/login",className:"px-6 py-2.5 text-gray-700 hover:text-gray-900 font-medium transition-colors",children:"Login"}),j.jsx(r,{to:"/register",className:"px-6 py-2.5 bg-gradient-to-r from-indigo-500 to-purple-500 text-white rounded-lg font-medium hover:from-indigo-600 hover:to-purple-600 transition-all duration-300 shadow-md hover:shadow-lg hover:scale-105",children:"Get Started"})]})}),j.jsx("button",{className:"md:hidden p-2 rounded-lg hover:bg-gray-100 transition-colors",onClick:()=>l(!i),"aria-label":"Toggle menu",children:j.jsx("svg",{className:"w-6 h-6 text-gray-700",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:i?j.jsx("path",{d:"M6 18L18 6M6 6l12 12"}):j.jsx("path",{d:"M4 6h16M4 12h16M4 18h16"})})})]}),i&&j.jsx("div",{className:"md:hidden mt-4 pb-4 border-t border-gray-200 bg-white/95 backdrop-blur-lg rounded-b-2xl shadow-lg",children:j.jsxs("div",{className:"flex flex-col gap-2 pt-4",children:[j.jsx("a",{href:"#features",className:"px-4 py-2 text-gray-700 hover:bg-indigo-50 hover:text-indigo-600 rounded-lg transition-colors",onClick:e=>{var t;e.preventDefault(),null==(t=document.querySelector("#features"))||t.scrollIntoView({behavior:"smooth"}),l(!1)},children:"Features"}),j.jsx("a",{href:"#showcase",className:"px-4 py-2 text-gray-700 hover:bg-indigo-50 hover:text-indigo-600 rounded-lg transition-colors",onClick:e=>{var t;e.preventDefault(),null==(t=document.querySelector("#showcase"))||t.scrollIntoView({behavior:"smooth"}),l(!1)},children:"Showcase"}),j.jsx("a",{href:"#footer",className:"px-4 py-2 text-gray-700 hover:bg-indigo-50 hover:text-indigo-600 rounded-lg transition-colors",onClick:e=>{var t;e.preventDefault(),null==(t=document.querySelector("#footer"))||t.scrollIntoView({behavior:"smooth"}),l(!1)},children:"About"}),j.jsx("div",{className:"h-px bg-gray-200 my-2"}),t?j.jsx(r,{to:"/dashboard",className:"mx-4 px-4 py-2.5 bg-gradient-to-r from-indigo-500 to-purple-500 text-white rounded-lg font-medium text-center hover:from-indigo-600 hover:to-purple-600 transition-all duration-300",onClick:()=>l(!1),children:"Dashboard"}):j.jsxs(j.Fragment,{children:[j.jsx(r,{to:"/login",className:"px-4 py-2 text-gray-700 hover:bg-gray-50 rounded-lg transition-colors",onClick:()=>l(!1),children:"Login"}),j.jsx(r,{to:"/register",className:"mx-4 px-4 py-2.5 bg-gradient-to-r from-indigo-500 to-purple-500 text-white rounded-lg font-medium text-center hover:from-indigo-600 hover:to-purple-600 transition-all duration-300",onClick:()=>l(!1),children:"Get Started"})]})]})})]}),j.jsx("div",{className:"h-20"}),j.jsx("section",{className:"relative z-10 px-6 py-20 md:py-32",children:j.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[j.jsx("div",{className:"inline-block mb-6 px-4 py-2 bg-white/70 backdrop-blur-md rounded-full border-2 border-indigo-400/50 text-sm font-medium text-gray-800 shadow-lg ring-1 ring-indigo-500/20",children:"ðŸ’¬ Real-time Chat Experience"}),j.jsxs("h1",{className:"text-5xl md:text-7xl font-bold text-gray-900 mb-6 leading-tight",children:["Chat with",j.jsx("span",{className:"block bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Confidence"})]}),j.jsx("p",{className:"text-xl md:text-2xl text-gray-600 mb-12 max-w-3xl mx-auto leading-relaxed",children:"Experience messaging reimagined with real-time WebSocket technology, secure conversations, and a modern, intuitive interface."}),j.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[!t&&j.jsxs(j.Fragment,{children:[j.jsxs(r,{to:"/register",className:"px-8 py-4 bg-gradient-to-r from-indigo-500 to-purple-500 text-white rounded-xl font-semibold text-lg hover:from-indigo-600 hover:to-purple-600 transition-all duration-300 shadow-xl hover:shadow-2xl hover:scale-105 flex items-center gap-2",children:["Start Free",j.jsx("span",{className:"text-xl",children:"â†’"})]}),j.jsx(r,{to:"/login",className:"px-8 py-4 bg-white/80 backdrop-blur-sm text-gray-800 rounded-xl font-semibold text-lg hover:bg-white/90 transition-all duration-300 shadow-lg hover:shadow-xl border border-white/30 flex items-center gap-2",children:"Sign In"})]}),t&&j.jsxs(r,{to:"/chat",className:"px-8 py-4 bg-gradient-to-r from-indigo-500 to-purple-500 text-white rounded-xl font-semibold text-lg hover:from-indigo-600 hover:to-purple-600 transition-all duration-300 shadow-xl hover:shadow-2xl hover:scale-105 flex items-center gap-2",children:["Start Chatting",j.jsx("span",{className:"text-xl",children:"â†’"})]})]})]})}),j.jsx("section",{id:"features",className:"relative z-10 px-6 py-20",children:j.jsxs("div",{className:"max-w-7xl mx-auto",children:[j.jsxs("div",{className:"text-center mb-16",children:[j.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Powerful Features"}),j.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Everything you need for modern, intelligent communication"})]}),j.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[{icon:"ðŸ’¬",title:"Real-time Messaging",description:"Instant messaging with WebSocket technology for seamless conversations"},{icon:"ðŸ”’",title:"Secure & Private",description:"End-to-end encryption and privacy-focused architecture"},{icon:"ðŸ‘¥",title:"User Management",description:"Easy user search and conversation management"},{icon:"âš¡",title:"Fast & Reliable",description:"Lightning-fast messaging with real-time updates"}].map((e,t)=>j.jsxs("div",{className:"group p-8 bg-white/60 backdrop-blur-xl rounded-2xl border border-white/30 hover:bg-white/80 transition-all duration-300 shadow-md hover:shadow-xl hover:scale-105",children:[j.jsx("div",{className:"text-5xl mb-4 transform group-hover:scale-110 transition-transform duration-300",children:e.icon}),j.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:e.title}),j.jsx("p",{className:"text-gray-600 leading-relaxed",children:e.description})]},t))})]})}),j.jsx("section",{id:"showcase",className:"relative z-10 px-6 py-20",children:j.jsx("div",{className:"max-w-7xl mx-auto",children:j.jsx("div",{className:"bg-white/60 backdrop-blur-xl rounded-3xl border border-white/30 p-8 md:p-12 shadow-2xl",children:j.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-center",children:[j.jsxs("div",{children:[j.jsx("div",{className:"inline-block mb-4 px-3 py-1 bg-indigo-100 text-indigo-700 rounded-full text-sm font-medium",children:"Modern Interface"}),j.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-6",children:"Experience Clean Design"}),j.jsx("p",{className:"text-lg text-gray-600 mb-6 leading-relaxed",children:"Enjoy a clean, modern interface designed for seamless conversations. Fast, reliable, and easy to use."}),j.jsx("ul",{className:"space-y-3",children:["Real-time message delivery","Secure end-to-end encryption","User-friendly interface","Fast and responsive"].map((e,t)=>j.jsxs("li",{className:"flex items-center gap-3 text-gray-700",children:[j.jsx("span",{className:"w-2 h-2 bg-indigo-500 rounded-full"}),e]},t))})]}),j.jsxs("div",{className:"relative",children:[j.jsx("div",{className:"aspect-square bg-gradient-to-br from-indigo-400 via-purple-400 to-pink-400 rounded-2xl p-8 flex items-center justify-center shadow-inner",children:j.jsxs("div",{className:"text-center text-white",children:[j.jsx("div",{className:"text-6xl mb-4 animate-softPulse",children:"ðŸ’¬"}),j.jsx("div",{className:"text-2xl font-bold mb-2",children:"Chat Mode"}),j.jsx("div",{className:"text-sm opacity-90",children:"Fast & Secure"})]})}),j.jsx("div",{className:"absolute -top-4 -right-4 w-24 h-24 bg-purple-300 rounded-full blur-2xl opacity-50 animate-blob"}),j.jsx("div",{className:"absolute -bottom-4 -left-4 w-32 h-32 bg-pink-300 rounded-full blur-2xl opacity-50 animate-blob animation-delay-2000"})]})]})})})}),j.jsx("section",{className:"relative z-10 px-6 py-20",children:j.jsx("div",{className:"max-w-4xl mx-auto text-center",children:j.jsxs("div",{className:"bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 rounded-3xl p-12 md:p-16 shadow-2xl",children:[j.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"Ready to Experience the Future?"}),j.jsx("p",{className:"text-xl text-white/90 mb-8 max-w-2xl mx-auto",children:"Join thousands of users experiencing the next generation of messaging"}),!t&&j.jsx(r,{to:"/register",className:"inline-block px-8 py-4 bg-white text-indigo-600 rounded-xl font-semibold text-lg hover:bg-gray-100 transition-all duration-300 shadow-xl hover:shadow-2xl hover:scale-105",children:"Get Started Free"}),t&&j.jsx(r,{to:"/chat",className:"inline-block px-8 py-4 bg-white text-indigo-600 rounded-xl font-semibold text-lg hover:bg-gray-100 transition-all duration-300 shadow-xl hover:shadow-2xl hover:scale-105",children:"Start Chatting Now"})]})})}),j.jsx("footer",{id:"footer",className:"relative z-10 bg-gradient-to-br from-gray-900 via-indigo-900 to-purple-900 text-white",children:j.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-16",children:[j.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12 mb-12",children:[j.jsxs("div",{className:"lg:col-span-1",children:[j.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[j.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-400 to-purple-400 rounded-lg flex items-center justify-center text-white font-bold text-xl shadow-lg",children:"D"}),j.jsx("span",{className:"text-2xl font-bold",children:"D-Lite"})]}),j.jsx("p",{className:"text-gray-300 mb-6 leading-relaxed",children:"Experience messaging reimagined with real-time WebSocket technology and secure conversations."}),j.jsxs("div",{className:"flex gap-4",children:[j.jsx("a",{href:"#",className:"w-10 h-10 bg-white/10 hover:bg-white/20 rounded-lg flex items-center justify-center transition-all duration-300 hover:scale-110","aria-label":"Twitter",children:j.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:j.jsx("path",{d:"M23 3a10.9 10.9 0 01-3.14 1.53 4.48 4.48 0 00-7.86 3v1A10.66 10.66 0 013 4s-4 9 5 13a11.64 11.64 0 01-7 2c9 5 20 0 20-11.5a4.5 4.5 0 00-.08-.83A7.72 7.72 0 0023 3z"})})}),j.jsx("a",{href:"#",className:"w-10 h-10 bg-white/10 hover:bg-white/20 rounded-lg flex items-center justify-center transition-all duration-300 hover:scale-110","aria-label":"GitHub",children:j.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:j.jsx("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})})}),j.jsx("a",{href:"#",className:"w-10 h-10 bg-white/10 hover:bg-white/20 rounded-lg flex items-center justify-center transition-all duration-300 hover:scale-110","aria-label":"Discord",children:j.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:j.jsx("path",{d:"M20.317 4.37a19.791 19.791 0 00-4.885-1.515.074.074 0 00-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 00-5.487 0 12.64 12.64 0 00-.617-1.25.077.077 0 00-.079-.037A19.736 19.736 0 003.677 4.37a.07.07 0 00-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 00.031.057 19.9 19.9 0 005.993 3.03.078.078 0 00.084-.028c.462-.63.874-1.295 1.226-1.994a.076.076 0 00-.041-.106 13.107 13.107 0 01-1.872-.892.077.077 0 01-.008-.128 10.2 10.2 0 00.372-.292.074.074 0 01.077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 01.078.01c.12.098.246.198.373.292a.077.077 0 01-.006.127 12.299 12.299 0 01-1.873.892.077.077 0 00-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 00.084.028 19.839 19.839 0 006.002-3.03.077.077 0 00.032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 00-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.946 2.418-2.157 2.418z"})})}),j.jsx("a",{href:"#",className:"w-10 h-10 bg-white/10 hover:bg-white/20 rounded-lg flex items-center justify-center transition-all duration-300 hover:scale-110","aria-label":"LinkedIn",children:j.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:j.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})})})]})]}),j.jsxs("div",{children:[j.jsx("h3",{className:"text-lg font-bold mb-4",children:"Product"}),j.jsx("ul",{className:"space-y-3",children:["Features","Pricing","Integrations","API Docs","Changelog","Roadmap"].map(e=>j.jsx("li",{children:j.jsxs("a",{href:"#",className:"text-gray-300 hover:text-white transition-colors flex items-center gap-2",children:[j.jsx("span",{className:"w-1.5 h-1.5 bg-indigo-400 rounded-full"}),e]})},e))})]}),j.jsxs("div",{children:[j.jsx("h3",{className:"text-lg font-bold mb-4",children:"Company"}),j.jsx("ul",{className:"space-y-3",children:["About Us","Careers","Blog","Press Kit","Contact","Partners"].map(e=>j.jsx("li",{children:j.jsxs("a",{href:"#",className:"text-gray-300 hover:text-white transition-colors flex items-center gap-2",children:[j.jsx("span",{className:"w-1.5 h-1.5 bg-purple-400 rounded-full"}),e]})},e))})]}),j.jsxs("div",{children:[j.jsx("h3",{className:"text-lg font-bold mb-4",children:"Stay Updated"}),j.jsx("p",{className:"text-gray-300 mb-4 text-sm",children:"Subscribe to our newsletter for updates and exclusive content."}),j.jsxs("form",{onSubmit:e=>{e.preventDefault(),alert(`Subscribed with: ${d}`),c("")},className:"space-y-3",children:[j.jsx("input",{type:"email",value:d,onChange:e=>c(e.target.value),placeholder:"Enter your email",className:"w-full px-4 py-2.5 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:border-transparent transition-all",required:!0}),j.jsx("button",{type:"submit",className:"w-full px-4 py-2.5 bg-gradient-to-r from-indigo-500 to-purple-500 text-white rounded-lg font-medium hover:from-indigo-600 hover:to-purple-600 transition-all duration-300 shadow-lg hover:shadow-xl hover:scale-105",children:"Subscribe"})]}),j.jsx("p",{className:"text-xs text-gray-400 mt-3",children:"We respect your privacy. Unsubscribe anytime."})]})]}),j.jsx("div",{className:"pt-8 border-t border-white/10",children:j.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[j.jsx("div",{className:"text-sm text-gray-300",children:"Â© 2026 D-Lite. All rights reserved."}),j.jsxs("div",{className:"flex flex-wrap justify-center gap-6 text-sm text-gray-300",children:[j.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Privacy Policy"}),j.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Terms of Service"}),j.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Cookie Policy"}),j.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Security"}),j.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Support"})]}),j.jsx("button",{onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},className:"p-2 bg-white/10 hover:bg-white/20 rounded-lg transition-all duration-300 hover:scale-110","aria-label":"Back to top",children:j.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:j.jsx("path",{d:"M5 10l7-7m0 0l7 7m-7-7v18"})})})]})})]})})]})},O=()=>{const[t,s]=e.useState(""),[a,n]=e.useState(""),i=o(),{login:l,loading:d,error:c,clearError:h}=I();return j.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-100 via-purple-50 via-pink-50 to-rose-100 flex items-center justify-center p-4 relative overflow-hidden",children:[j.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[j.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-purple-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob"}),j.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-pink-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-2000"})]}),j.jsxs("div",{className:"bg-white/70 backdrop-blur-xl rounded-3xl shadow-2xl w-full max-w-md p-10 relative z-10 border border-white/30",children:[j.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-6 text-center",children:"Login"}),c&&j.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-lg text-sm",children:c}),j.jsxs("form",{onSubmit:async e=>{e.preventDefault(),h();try{await l(t,a),i("/dashboard")}catch(s){}},className:"space-y-4",children:[j.jsxs("div",{children:[j.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email or Username"}),j.jsx("input",{type:"text",value:t,onChange:e=>s(e.target.value),required:!0,className:"w-full px-4 py-3 bg-white/80 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:border-transparent text-gray-800",placeholder:"you@example.com or username"})]}),j.jsxs("div",{children:[j.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),j.jsx("input",{type:"password",value:a,onChange:e=>n(e.target.value),required:!0,className:"w-full px-4 py-3 bg-white/80 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:border-transparent text-gray-800",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"})]}),j.jsx("button",{type:"submit",disabled:d,className:"w-full py-3 bg-gradient-to-r from-indigo-500 to-purple-500 text-white rounded-lg font-medium hover:from-indigo-600 hover:to-purple-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 shadow-md hover:shadow-lg",children:d?"Logging in...":"Login"})]}),j.jsxs("p",{className:"mt-6 text-center text-sm text-gray-600",children:["Don't have an account?"," ",j.jsx(r,{to:"/register",className:"text-indigo-600 hover:text-indigo-700 font-medium",children:"Register"})]})]})]})},$=()=>{const[t,s]=e.useState(""),[a,n]=e.useState(""),[i,l]=e.useState(""),d=o(),{register:c,loading:h,error:m,clearError:u}=I();return j.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-100 via-purple-50 via-pink-50 to-rose-100 flex items-center justify-center p-4 relative overflow-hidden",children:[j.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[j.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-purple-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob"}),j.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-pink-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-2000"})]}),j.jsxs("div",{className:"bg-white/70 backdrop-blur-xl rounded-3xl shadow-2xl w-full max-w-md p-10 relative z-10 border border-white/30",children:[j.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-6 text-center",children:"Register"}),m&&j.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-lg text-sm",children:m}),j.jsxs("form",{onSubmit:async e=>{e.preventDefault(),u();try{await c(t,a,i),d("/dashboard")}catch(s){}},className:"space-y-4",children:[j.jsxs("div",{children:[j.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Username"}),j.jsx("input",{type:"text",value:t,onChange:e=>s(e.target.value),required:!0,minLength:3,maxLength:30,className:"w-full px-4 py-3 bg-white/80 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:border-transparent text-gray-800",placeholder:"johndoe"})]}),j.jsxs("div",{children:[j.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),j.jsx("input",{type:"email",value:a,onChange:e=>n(e.target.value),required:!0,className:"w-full px-4 py-3 bg-white/80 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:border-transparent text-gray-800",placeholder:"you@example.com"})]}),j.jsxs("div",{children:[j.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),j.jsx("input",{type:"password",value:i,onChange:e=>l(e.target.value),required:!0,minLength:6,className:"w-full px-4 py-3 bg-white/80 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:border-transparent text-gray-800",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"})]}),j.jsx("button",{type:"submit",disabled:h,className:"w-full py-3 bg-gradient-to-r from-indigo-500 to-purple-500 text-white rounded-lg font-medium hover:from-indigo-600 hover:to-purple-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 shadow-md hover:shadow-lg",children:h?"Creating account...":"Register"})]}),j.jsxs("p",{className:"mt-6 text-center text-sm text-gray-600",children:["Already have an account?"," ",j.jsx(r,{to:"/login",className:"text-indigo-600 hover:text-indigo-700 font-medium",children:"Login"})]})]})]})},B=parseInt("30000"),F=d.create({baseURL:"http://localhost:8001",timeout:B,headers:{"Content-Type":"application/json"}});F.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e}),F.interceptors.response.use(e=>e,e=>{const t=S(e,"Chat Service");return Promise.reject(t)});const q=async(e,t,s,r=null,o=null)=>(await F.post("/api/messages",{sender_id:e,receiver_id:t,content:s,group_id:r,expires_at:o})).data,V=async(e,t,s=100,r=0)=>(await F.get(`/api/messages/${e}/${t}`,{params:{limit:s,skip:r}})).data,W=async e=>(await F.get(`/api/conversations/${e}`)).data,G=async e=>(await F.patch(`/api/messages/${e}/read`)).data,H=c((e,t)=>({users:[],groups:[],messages:[],selectedUser:null,selectedGroup:null,onlineUsers:new Set,conversations:{},setUsers:t=>e({users:t}),setGroups:t=>e({groups:t}),setConversations:t=>{const s={};t.forEach(e=>{s[e.user_id]={unread_count:e.unread_count,last_message:e.last_message}}),e({conversations:s})},setSelectedUser:t=>{e({selectedUser:t,selectedGroup:null}),e({messages:[]})},setSelectedGroup:t=>{if(e({selectedGroup:t,selectedUser:null}),e({messages:[]}),t){const e=t._id||t.id;R.joinGroup(e)}},addMessage:t=>{e(e=>({messages:[...e.messages,t]}))},setMessages:t=>e({messages:t}),updateOnlineUsers:t=>{e({onlineUsers:new Set(t)})},addOnlineUser:t=>{e(e=>{const s=new Set(e.onlineUsers);return s.add(t),{onlineUsers:s}})},removeOnlineUser:t=>{e(e=>{const s=new Set(e.onlineUsers);return s.delete(t),{onlineUsers:s}})},clearChat:()=>{e({selectedUser:null,selectedGroup:null,messages:[]})}})),Y=e.memo(({children:e,onLogout:t,className:s=""})=>j.jsx("div",{className:`w-80 h-full flex flex-col bg-white/50 backdrop-blur-xl border-r border-gray-200/50 transition-all duration-300 ease-in-out ux-panel ux-panel-sidebar ux-focus-hidden ${s}`,style:{opacity:focusModeActive?.95:1},children:j.jsxs("div",{className:"h-full flex flex-col",children:[j.jsx("div",{className:"px-5 py-4 border-b border-gray-200/60 bg-white/30",children:j.jsxs("div",{className:"flex items-center justify-between",children:[j.jsxs("div",{className:"flex items-center gap-2.5",children:[j.jsx("div",{className:"w-9 h-9 bg-gradient-to-br from-indigo-500 to-purple-500 rounded-xl flex items-center justify-center shadow-md",children:j.jsx("span",{className:"text-white font-bold text-lg",children:"D"})}),j.jsxs("div",{children:[j.jsx("h2",{className:"text-base font-bold text-gray-900",children:"D-Lite"}),j.jsx("p",{className:"text-xs text-gray-500",children:"Messaging"})]})]}),t&&j.jsx("button",{onClick:t,className:"px-3 py-1.5 text-xs font-medium text-gray-600 hover:text-gray-900 hover:bg-white/60 rounded-lg transition-all border border-transparent hover:border-gray-200",title:"Logout",children:j.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:j.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]})}),j.jsx("div",{className:"flex-1 overflow-hidden p-4",children:e})]})}));Y.displayName="SoftSidebar";const K=e.memo(({header:e,children:t,input:s,focusMode:r=!1})=>j.jsxs("div",{className:"flex-1 flex flex-col relative overflow-hidden bg-gradient-to-br from-gray-50/50 to-white/50 transition-all duration-300 ux-focus-chat "+(r?"opacity-95":"opacity-100"),children:[e&&j.jsx("div",{className:"px-6 py-4 border-b border-gray-200/60 bg-white/40 backdrop-blur-sm",children:e}),j.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar",style:{padding:"calc(1.5rem * var(--ux-spacing-multiplier))"},children:j.jsx("div",{className:"max-w-4xl mx-auto flex flex-col",style:{gap:"var(--ux-chat-gap)"},children:t})}),s&&j.jsx("div",{className:"px-6 py-4 border-t border-gray-200/60 bg-white/40 backdrop-blur-sm ux-input-container",style:{paddingTop:"calc(1rem * var(--ux-spacing-multiplier))"},children:j.jsx("div",{className:"max-w-4xl mx-auto",children:s})})]}));K.displayName="ChatPanel";const X=e.memo(({sidebarContent:e,chatHeader:t,chatContent:s,chatInput:r,onLogout:o})=>j.jsxs("div",{className:"flex h-screen w-screen overflow-hidden relative",children:[j.jsx(Y,{onLogout:o,children:e}),j.jsx(K,{header:t,input:r,children:s})]}));X.displayName="AppLayout";const Q=e.memo(({userId:e,avatarUrl:t,name:s,auraColor:r="#a5f3fc",size:o="md",online:a=!1,heatLevel:n="low",className:i=""})=>{return j.jsxs("div",{className:`relative ${i}`,children:[j.jsx("div",{className:`absolute inset-0 rounded-full ${{sm:"ring-1",md:"ring-2",lg:"ring-3",xl:"ring-4"}[o]} transition-all duration-500`,style:{borderColor:r,boxShadow:(()=>{switch(n){case"high":return"0 0 20px rgba(139, 92, 246, 0.6)";case"medium":return"0 0 15px rgba(139, 92, 246, 0.4)";default:return"0 0 10px rgba(139, 92, 246, 0.2)"}})(),animation:"softPulse 3s ease-in-out infinite"}}),j.jsx("div",{className:`${{sm:"w-8 h-8",md:"w-12 h-12",lg:"w-16 h-16",xl:"w-20 h-20"}[o]} rounded-full overflow-hidden bg-gradient-to-br from-indigo-200 to-purple-200 flex items-center justify-center text-white font-medium relative z-10`,children:t?j.jsx("img",{src:t,alt:s||"User",className:"w-full h-full object-cover",loading:"lazy"}):j.jsx("span",{className:"text-xs",children:(l=s,l?l.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2):"?")})}),a&&j.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-400 rounded-full border-2 border-white",style:{boxShadow:"0 0 8px rgba(34, 197, 94, 0.6)"}})]});var l});Q.displayName="AuraAvatar";const J=e=>String((null==e?void 0:e.id)||(null==e?void 0:e._id)||""),Z=e=>(null==e?void 0:e.username)||(null==e?void 0:e.name)||"Unknown User",ee=e.memo(()=>{const{users:t,selectedUser:s,setSelectedUser:r,onlineUsers:o,conversations:a}=H(),[n,i]=e.useState(""),[l,d]=e.useState([]),[c,h]=e.useState(!1),m=e.useRef(null),u=J(s),x=e.useCallback(()=>{m.current&&(clearTimeout(m.current),m.current=null)},[]);e.useEffect(()=>x,[x]);const g=e.useCallback(e=>o.has(e)||o.has(String(e)),[o]);e.useMemo(()=>{const e=new Map;return t.forEach(t=>{const s=J(t);s&&e.set(s,t)}),e},[t]);const p=e.useMemo(()=>{const e=new Map;let t=0;const s=s=>{s.forEach(s=>{const r=String(s);r&&!e.has(r)&&(e.set(r,t),t+=1)})};return s(prioritizedChats||[]),s(recentChats||[]),s(frequentChats||[]),e},[prioritizedChats,recentChats,frequentChats]),f=e.useCallback((e,t)=>{var s,r;const o=J(e),n=J(t),i=p.has(o)?p.get(o):Number.MAX_SAFE_INTEGER,l=p.has(n)?p.get(n):Number.MAX_SAFE_INTEGER;if(i!==l)return i-l;const d=(null==(s=a[o])?void 0:s.unread_count)||0,c=(null==(r=a[n])?void 0:r.unread_count)||0;return d!==c?c-d:Z(e).localeCompare(Z(t))},[a,p]),v=e.useMemo(()=>{const e=[...t].sort(f);return{online:e.filter(e=>g(J(e))),offline:e.filter(e=>!g(J(e)))}},[t,f,g]),b=e.useMemo(()=>[],[]),y=e.useCallback(e=>{const t=J(e);t&&(u!==t&&r(e),i(""),d([]),x())},[x,u,r,trackChatAccess]),w=e.useCallback(e=>{const t=J(e);t&&t!==u&&(x(),m.current=setTimeout(()=>{y(e)},450))},[x,y,u]),N=e.useMemo(()=>"gap-3",[]),k=e=>{var t;const s=J(e),r=g(s),o=u===s,n=(null==(t=a[s])?void 0:t.unread_count)||0;return j.jsxs("button",{onClick:()=>y(e),className:"w-full flex items-center gap-3 p-3 rounded-xl transition-all duration-200 relative group ux-touch-target "+(o?"bg-gradient-to-r from-indigo-50 to-purple-50 border border-indigo-200 shadow-sm":"bg-white/50 hover:bg-white/80 border border-transparent hover:border-gray-200/60 hover:shadow-sm"),onMouseEnter:()=>w(e),onMouseLeave:x,children:[j.jsxs("div",{className:"relative flex-shrink-0",children:[j.jsx(Q,{userId:s,avatarUrl:e.avatarUrl,name:Z(e),size:"md",online:r}),n>0&&j.jsx("div",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold rounded-full min-w-[20px] h-5 flex items-center justify-center px-1.5 shadow-md ring-2 ring-white",children:n>99?"99+":n})]}),j.jsxs("div",{className:"flex-1 text-left min-w-0",children:[j.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[j.jsx("span",{className:"font-semibold text-gray-800 text-sm truncate",children:Z(e)}),r&&j.jsx("span",{className:"flex-shrink-0 w-2 h-2 rounded-full bg-green-500"})]}),r?null:j.jsxs("div",{className:"text-xs text-gray-400 flex items-center gap-1",children:[j.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:j.jsx("circle",{cx:"10",cy:"10",r:"8",opacity:"0.3"})}),"Offline"]})]}),!n&&j.jsx("svg",{className:"w-4 h-4 transition-opacity "+(o?"opacity-60":"opacity-0 group-hover:opacity-40"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:j.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]},s)};return j.jsxs("div",{className:`h-full flex flex-col ${N}`,children:[j.jsxs("div",{children:[j.jsxs("div",{className:"relative",children:[j.jsx("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:j.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),j.jsx("input",{type:"text",placeholder:"Search for users...",value:n,onChange:e=>(async e=>{if(i(e),e.trim().length<2)return d([]),void h(!1);try{h(!0);const t=await A(e);d(t.users||[])}catch(t){d([])}finally{h(!1)}})(e.target.value),className:"w-full pl-10 pr-4 py-2.5 rounded-xl border border-gray-200/60 bg-white/70 backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-indigo-400/50 focus:border-indigo-400 placeholder-gray-400 text-sm transition-all ux-touch-target"})]}),shouldShowSearch&&!n&&t.length>0&&j.jsx("div",{className:"mt-2 text-[11px] text-gray-500 px-1",children:"Searching now can reduce click depth."})]}),!n&&b.length>0&&j.jsxs("div",{className:"rounded-xl border border-indigo-100/80 bg-indigo-50/60 px-3 py-2",children:[j.jsx("div",{className:"text-[11px] font-semibold text-indigo-600 uppercase tracking-wide mb-2",children:"Quick Switch"}),j.jsx("div",{className:"flex flex-wrap gap-1.5",children:b.map(e=>{const t=J(e);return j.jsx("button",{type:"button",onClick:()=>y(e),onMouseEnter:()=>w(e),onMouseLeave:x,className:"px-2.5 py-1.5 rounded-lg bg-white/80 hover:bg-white border border-indigo-100 text-xs text-gray-700 transition-all ux-touch-target",children:Z(e)},t)})})]}),n.trim().length>=2&&j.jsxs("div",{className:"bg-white/90 backdrop-blur-md rounded-xl border border-gray-200/60 shadow-sm overflow-hidden",children:[j.jsx("div",{className:"px-4 py-2.5 bg-gray-50/80 border-b border-gray-200/60",children:j.jsx("h3",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide",children:"Search Results"})}),j.jsx("div",{className:"p-2 max-h-80 overflow-y-auto",children:c?j.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-gray-400",children:[j.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-500 mb-3"}),j.jsx("div",{className:"text-sm",children:"Searching..."})]}):l.length>0?j.jsx("div",{className:"space-y-1",children:l.map(e=>j.jsxs("button",{onClick:()=>y(e),className:"w-full flex items-center gap-3 p-2.5 rounded-lg hover:bg-indigo-50/80 transition-all group ux-touch-target",children:[j.jsx(Q,{userId:J(e),avatarUrl:e.avatarUrl,name:Z(e),size:"sm",online:g(J(e))}),j.jsxs("div",{className:"flex-1 text-left min-w-0",children:[j.jsx("div",{className:"font-medium text-gray-800 text-sm truncate",children:Z(e)}),j.jsx("div",{className:"text-xs text-gray-500 truncate",children:e.email})]}),j.jsx("svg",{className:"w-4 h-4 text-indigo-500 opacity-0 group-hover:opacity-100 transition-opacity",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:j.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]},J(e)))}):j.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-gray-400",children:[j.jsx("svg",{className:"w-12 h-12 mb-3 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:j.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),j.jsx("div",{className:"text-sm font-medium",children:"No users found"}),j.jsx("div",{className:"text-xs mt-1",children:"Try a different search term"})]})})]}),!n&&0===t.length&&j.jsx("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 rounded-xl p-4 border border-indigo-100",children:j.jsxs("div",{className:"flex items-start gap-3",children:[j.jsx("svg",{className:"w-5 h-5 text-indigo-500 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:j.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),j.jsxs("div",{className:"flex-1",children:[j.jsx("h4",{className:"text-sm font-semibold text-gray-800 mb-1",children:"Start Your First Conversation"}),j.jsx("p",{className:"text-xs text-gray-600 leading-relaxed",children:"Search for users above to begin chatting. Your conversations are private and secure."})]})]})}),!n&&t.length>0&&j.jsxs("div",{className:"flex-1 overflow-y-auto space-y-3 custom-scrollbar",children:[v.online.length>0&&j.jsxs("div",{children:[j.jsxs("div",{className:"flex items-center gap-2 px-2 mb-2",children:[j.jsx("div",{className:"flex-shrink-0 w-2 h-2 rounded-full bg-green-500 animate-pulse"}),j.jsx("h3",{className:"text-xs font-bold text-gray-600 uppercase tracking-wider",children:"Online"}),j.jsx("span",{className:"text-xs text-gray-400 font-semibold",children:v.online.length})]}),j.jsx("div",{className:"space-y-1.5",children:v.online.map(k)})]}),v.offline.length>0&&j.jsxs("div",{children:[j.jsxs("div",{className:"flex items-center gap-2 px-2 mb-2",children:[j.jsx("div",{className:"flex-shrink-0 w-2 h-2 rounded-full bg-gray-300"}),j.jsx("h3",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Recent"}),j.jsx("span",{className:"text-xs text-gray-400 font-semibold",children:v.offline.length})]}),j.jsx("div",{className:"space-y-1.5",children:v.offline.map(k)})]})]})]})});ee.displayName="UsersList";const te=e.memo(({message:e,isOwn:t,senderName:s,mood:r="balanced",timestamp:o,attentionType:a=null})=>{const n={mention:"ring-1 ring-indigo-300/60",reply:"ring-1 ring-purple-200/70","focus-chat":"ring-1 ring-gray-200/80"}[a]||"";return j.jsx("div",{className:`flex ${t?"justify-end":"justify-start"} mb-2 transition-all duration-200`,children:j.jsxs("div",{className:`max-w-[70%] rounded-lg px-[1.125rem] py-[0.875rem] ${t?"bg-gradient-to-br from-indigo-400 to-purple-400 text-white":"bg-white/70 backdrop-blur-sm text-gray-800"} shadow-md transition-all duration-300 hover:shadow-lg ${n}`,children:[!t&&s&&j.jsx("div",{className:"text-xs font-medium mb-1 opacity-75",children:s}),j.jsx("div",{className:"text-sm leading-[1.6] whitespace-pre-wrap break-words",children:e.content||e.text}),o&&j.jsx("div",{className:"text-xs mt-1 "+(t?"text-white/70":"text-gray-500"),children:new Date(o).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})})});te.displayName="ChatBubble";const se=e.memo(()=>{const{messages:e,selectedUser:t}=H(),{user:s}=I(),r=((null==s?void 0:s.username)||(null==s?void 0:s.name)||"").toLowerCase();return t?e&&0!==e.length?j.jsx("div",{className:"space-y-2",children:e.map(e=>{const o=(e.sender_id||e.senderId)===((null==s?void 0:s.id)||(null==s?void 0:s._id)),a=o?"You":(null==t?void 0:t.username)||(null==t?void 0:t.name)||"Unknown",n=String(e.content||e.text||"").toLowerCase();return!o&&r.length>0&&n.includes(`@${r}`),Boolean(e.reply_to||e.replyTo||e.reply_to_id||e.parent_id),j.jsx(te,{message:e,isOwn:o,senderName:o?null:a,timestamp:e.timestamp||e.createdAt},e._id||e.id)})}):j.jsx("div",{className:"flex items-center justify-center h-full",children:j.jsxs("div",{className:"text-center max-w-md px-6",children:[j.jsx("div",{className:"w-20 h-20 mx-auto mb-4 bg-gradient-to-br from-indigo-50 to-purple-50 rounded-full flex items-center justify-center",children:j.jsx("svg",{className:"w-10 h-10 text-indigo-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:j.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"})})}),j.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"No messages yet"}),j.jsxs("p",{className:"text-sm text-gray-500",children:["Start the conversation with ",(null==t?void 0:t.username)||(null==t?void 0:t.name)]})]})}):j.jsx("div",{className:"flex items-center justify-center h-full",children:j.jsxs("div",{className:"text-center max-w-md px-6",children:[j.jsx("div",{className:"w-24 h-24 mx-auto mb-6 bg-gradient-to-br from-indigo-100 to-purple-100 rounded-full flex items-center justify-center",children:j.jsx("svg",{className:"w-12 h-12 text-indigo-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:j.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),j.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Welcome to D-Lite"}),j.jsx("p",{className:"text-sm text-gray-500 leading-relaxed",children:"Select a conversation from the sidebar or search for users to start chatting."})]})})});se.displayName="MessageList";const re=({onSendMessage:t})=>{const{selectedUser:s,selectedGroup:r}=H(),{user:o}=I(),[a,n]=e.useState(""),[i,l]=e.useState(!1),d=e.useRef(null),c=e.useRef(null),h=(null==o?void 0:o.id)||(null==o?void 0:o._id)||null,m=(null==s?void 0:s.id)||(null==s?void 0:s._id)||null,u=(null==r?void 0:r.id)||(null==r?void 0:r._id)||null,x=e.useCallback(e=>{h&&(m||u)&&(e?R.sendTyping(m,u):R.sendStopTyping(m,u))},[h,u,m]),g=e.useCallback(async()=>{const e=a.trim();if(e&&h&&(m||u))try{R.sendMessage({sender_id:h,receiver_id:m,group_id:u,content:e}),await q(h,m,e,u),n(""),l(!1),x(!1),t&&t(e)}catch(s){}},[h,x,u,a,t,m]),p=e.useCallback(e=>{const t=e.trim().length>0;t&&!i&&(l(!0),x(!0)),!t&&i&&(l(!1),x(!1)),c.current&&clearTimeout(c.current),c.current=setTimeout(()=>{l(!1),x(!1)},1e3)},[x,i]);return e.useEffect(()=>()=>{c.current&&clearTimeout(c.current),x(!1)},[x]),j.jsxs("div",{className:"flex items-end gap-3",children:[j.jsx("div",{className:"flex-1 relative",children:j.jsx("textarea",{ref:d,value:a,onChange:e=>{const t=e.target.value;n(t),p(t)},onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),g())},placeholder:"Type your message...",className:"w-full px-4 py-3 bg-white/90 backdrop-blur-sm border border-gray-200/60 rounded-xl resize-none focus:outline-none focus:ring-2 focus:ring-indigo-400/50 focus:border-indigo-400 text-gray-800 placeholder-gray-400 transition-all shadow-sm",rows:2,style:{minHeight:"48px",maxHeight:"160px"}})}),j.jsx("button",{onClick:g,disabled:!a.trim(),className:"flex-shrink-0 w-12 h-12 bg-gradient-to-br from-indigo-500 to-purple-500 text-white rounded-xl font-medium hover:from-indigo-600 hover:to-purple-600 disabled:opacity-40 disabled:cursor-not-allowed transition-all duration-200 shadow-md hover:shadow-lg flex items-center justify-center group",title:"Send message",children:j.jsx("svg",{className:"w-5 h-5 transform group-hover:translate-x-0.5 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:j.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]})},oe=()=>{const t=o(),{user:s,token:r,logout:a}=I(),{users:n,selectedUser:i,messages:l,setUsers:d,setMessages:c,setConversations:h,addMessage:m,updateOnlineUsers:u,addOnlineUser:x,removeOnlineUser:g}=H(),[p,f]=e.useState(!0);return e.useEffect(()=>{if(!r||!s)return void t("/login");return(async()=>{try{await R.connect(r),R.setupPresenceTracking({onOnlineUsersUpdate:e=>{u(e)},onUserConnected:e=>{x(e)},onUserDisconnected:e=>{g(e)}}),R.onMessage(async e=>{m(e);const t=s.id||s._id;if(e.receiver_id===t)try{const e=await W(t);h(e||[])}catch(r){}});const e=s.id||s._id,t=await W(e);h(t||[]);const o=(t||[]).map(e=>e.user_id);if(o.length>0){const e=o.map(e=>U(e).catch(e=>null)),t=(await Promise.all(e)).filter(e=>e&&e.user).map(e=>e.user);d(t)}else d([]);f(!1)}catch(e){f(!1)}})(),()=>{R.offMessage()}},[r,s,t,d,h,u,x,g,m]),e.useEffect(()=>{(async()=>{if(i&&s)try{const t=s.id||s._id,r=i.id||i._id,o=await V(t,r);c(o.messages||[]);const a=(o.messages||[]).filter(e=>e.receiver_id===t&&!e.read);for(const s of a)try{await G(s._id||s.id)}catch(e){}if(a.length>0){const e=await W(t);h(e||[])}}catch(e){}})()},[i,s,c]),p?j.jsx("div",{className:"h-screen flex items-center justify-center bg-gradient-to-br from-indigo-100 via-purple-50 to-pink-50",children:j.jsx("div",{className:"text-gray-600",children:"Loading..."})}):j.jsx(X,{sidebarContent:j.jsx(ee,{}),chatHeader:i?j.jsx("div",{className:"flex items-center justify-between",children:j.jsxs("div",{children:[j.jsx("div",{className:"font-semibold text-gray-900 text-base",children:i.username||i.name}),j.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:"Direct message"})]})}):j.jsx("div",{className:"flex items-center justify-between",children:j.jsxs("div",{children:[j.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Messages"}),j.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"Select a conversation or search for users"})]})}),chatContent:j.jsx(se,{}),chatInput:i?j.jsx(re,{}):null,onLogout:a})},ae=()=>{const e=o(),{user:t,logout:s}=I();return j.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-100 via-purple-50 via-pink-50 to-rose-100 p-8",children:j.jsx("div",{className:"max-w-6xl mx-auto",children:j.jsxs("div",{className:"bg-white/70 backdrop-blur-xl rounded-3xl shadow-2xl p-8 border border-white/30",children:[j.jsxs("div",{className:"flex items-center justify-between mb-8",children:[j.jsxs("div",{children:[j.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Dashboard"}),j.jsxs("p",{className:"text-gray-600 mt-1",children:["Welcome, ",(null==t?void 0:t.username)||(null==t?void 0:t.name),"!"]})]}),j.jsx("button",{onClick:s,className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:"Logout"})]}),j.jsxs("div",{children:[j.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Quick Actions"}),j.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[j.jsxs("button",{onClick:()=>e("/chat"),className:"p-6 bg-gradient-to-br from-indigo-400 to-purple-400 text-white rounded-lg hover:from-indigo-500 hover:to-purple-500 transition-all duration-300 shadow-md hover:shadow-lg",children:[j.jsx("div",{className:"text-2xl mb-2",children:"ðŸ’¬"}),j.jsx("div",{className:"font-semibold",children:"Open Chat"}),j.jsx("div",{className:"text-xs mt-1 opacity-90",children:"View conversations & messages"})]}),j.jsxs("div",{className:"p-6 bg-gradient-to-br from-purple-400 to-pink-400 text-white rounded-lg opacity-75",children:[j.jsx("div",{className:"text-2xl mb-2",children:"ðŸ‘¥"}),j.jsx("div",{className:"font-semibold",children:"My Profile"}),j.jsx("div",{className:"text-xs mt-1 opacity-90",children:"Coming soon"})]}),j.jsxs("div",{className:"p-6 bg-gradient-to-br from-pink-400 to-rose-400 text-white rounded-lg opacity-75",children:[j.jsx("div",{className:"text-2xl mb-2",children:"âš™ï¸"}),j.jsx("div",{className:"font-semibold",children:"Settings"}),j.jsx("div",{className:"text-xs mt-1 opacity-90",children:"Coming soon"})]})]})]}),j.jsxs("div",{className:"mt-8 bg-indigo-50 rounded-lg p-6 border border-indigo-100",children:[j.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"ðŸ”’ Privacy & Security"}),j.jsx("p",{className:"text-sm text-gray-600",children:"Your conversations are private and secure. Only you and the people you chat with can see your messages."})]})]})})})};function ne(){const{isAuthenticated:t,initAuth:s}=I();return e.useEffect(()=>{const e=(()=>{const e=[];return z.forEach(t=>{D[t]||e.push(t)}),e.length,{isValid:0===e.length,missing:e,env:{AUTH_SERVICE_URL:"http://localhost:3001",CHAT_SERVICE_URL:"http://localhost:8001",SOCKET_GATEWAY_URL:"http://localhost:3002"}}})();e.isValid||k.warn("Environment validation failed",{missing:e.missing}),s().catch(e=>{k.error("Failed to initialize auth",{error:e.message})})},[s]),j.jsx(T,{children:j.jsx(a,{children:j.jsxs(n,{children:[j.jsx(i,{path:"/",element:t?j.jsx(l,{to:"/dashboard"}):j.jsx(P,{})}),j.jsx(i,{path:"/login",element:t?j.jsx(l,{to:"/dashboard"}):j.jsx(O,{})}),j.jsx(i,{path:"/register",element:t?j.jsx(l,{to:"/dashboard"}):j.jsx($,{})}),j.jsx(i,{path:"/dashboard",element:t?j.jsx(ae,{}):j.jsx(l,{to:"/login"})}),j.jsx(i,{path:"/chat",element:t?j.jsx(oe,{}):j.jsx(l,{to:"/login"})})]})})})}w.createRoot(document.getElementById("root")).render(j.jsx(s.StrictMode,{children:j.jsx(ne,{})}));
